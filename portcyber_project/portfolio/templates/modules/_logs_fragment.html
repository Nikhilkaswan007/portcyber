<div class="page-title">
    <h1>SYSTEM LOGS</h1>
</div>


<div class="log-container">
    {% for log in recent_logs %}
    <div class="log-entry" data-log-id="{{ log.id }}">
        <div class="log-header">
            <div class="log-title">üìù {{ log.title|upper }}</div>
            <div class="log-date">{{ log.log_date }}</div>
        </div>
        <div class="log-meta">
            <span class="log-meta-item"><span class="log-meta-label">STATUS:</span><span class="log-meta-value">{{ log.status|upper }}</span></span>
            <span class="log-meta-item"><span class="log-meta-label">TYPE:</span><span class="log-meta-value">{{ log.entry_type|upper }}</span></span>
        </div>
        <div class="log-body{% if log.is_long_content %} long-content{% endif %}">
            {% for section in log.sections.all %}
            <div class="log-section">
                <div class="log-section-title">{{ section.title|upper }}</div>
                <div class="log-section-content">
                    {{ section.content|safe|linebreaksbr }}
                </div>
            </div>
            {% endfor %}
            {% if log.is_long_content %}
            <div class="log-bottom-indicator">
                <span class="at-bottom-text">AT BOTTOM</span>
            </div>
            {% endif %}
        </div>
        <div class="log-actions">
            <button class="btn btn-green-outline share-log" data-log-id="{{ log.id }}">SHARE</button>
            {% if log.is_long_content %}
            <button class="btn btn-green-outline read-more-log" data-log-id="{{ log.id }}">VIEW FULL LOG</button>
            {% endif %}
        </div>
    </div>
    {% empty %}
    <div class="log-entry">
        <div class="log-body">
            <div class="log-section">
                <div class="log-section-title">NO RECENT LOGS</div>
                <div class="log-section-content">
                    System is currently stable. No new logs to display.
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<div style="text-align: right; margin-bottom: 20px;">
    <a href="#" onclick="loadModule('all_logs')" class="btn btn-green-outline">MORE LOGS &gt;</a>
</div>


{% if pinned_logs %}
<div class="older-logs">
    <div class="older-logs-title">ARCHIVED LOGS</div>
    <div class="older-log-list">
        {% for log in pinned_logs %}
        <div class="older-log-item" data-log-id="{{ log.id }}" role="button" aria-label="Open full log {{ log.title }}">
            <div class="older-log-item-title">{{ log.title }}</div>
            <div class="older-log-item-date">{{ log.log_date }}</div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}
